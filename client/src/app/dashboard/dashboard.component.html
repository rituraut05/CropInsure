<header class="header-6">
    <div class="branding">
        <a class="nav-link">
            <!-- <clr-icon shape="vm-bug"></clr-icon> -->
            <span class="title">{{'CROP INSURE'|translate}}</span>
        </a>
    </div>
    <div class="header-actions">
        <a class="nav-link nav-icon" aria-label="settings">
            <clr-icon shape="bell"></clr-icon>
        </a>
        <a href="#" class="nav-link nav-icon" aria-label="settings">
            <clr-icon shape="cog"></clr-icon>
        </a>
    </div>
</header>

<div>
    <img src='../../assets/pptpic.png' style="width:100%; height: 50%;" class='card-media-image'>
</div>

<div class="main-container">
    <div class="content-container">
        <clr-vertical-nav *ngIf="option === 'lazy'" [clrVerticalNavCollapsible]="true"
            [clrVerticalNavCollapsed]="navCollapsed" (clrVerticalNavCollapsedChange)="updateNavCollapsed($event)">
            <clr-vertical-nav-group routerLinkActive="active">
                    <a [routerLink]="['./beatles']" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}"
                        clrVerticalNavLink
                        (click)="showManageInsurancesToggle()">
                        <clr-icon [attr.shape]="'list'" clrVerticalNavIcon></clr-icon>
                        {{'Manage Insurances'|translate}}
                    </a>
    
                </clr-vertical-nav-group>
            <clr-vertical-nav-group routerLinkActive="active">
                <a [routerLink]="['./in']" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}"
                    clrVerticalNavLink>
                    <clr-icon [attr.shape]="'coin-bag'" clrVerticalNavIcon></clr-icon>
                    {{'Crop Coin Wallet'|translate}}
                </a>
                <ng-template [clrIfExpanded]="groupExpand" (clrIfExpandedChange)="updateGroupExpand($event)">
                    <clr-vertical-nav-group-children>
                        <a routerLinkActive="active" clrVerticalNavLink
                            (click)="showWalletBalanceToggle()">
                            {{'Wallet Balance'|translate}}
                        </a>
                        <a routerLinkActive="active" clrVerticalNavLink
                        (click)="showWalletTransactionToggle()">
                            {{'Wallet Transaction'|translate}}
                        </a>
                        <a routerLinkActive="active" clrVerticalNavLink>
                            {{'Wallet Offers'|translate}}
                        </a>
                    </clr-vertical-nav-group-children>
                </ng-template>
            </clr-vertical-nav-group>
            <clr-vertical-nav-group routerLinkActive="active">
                <a [routerLink]="['./beatles']" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}"
                    clrVerticalNavLink>
                    <clr-icon [attr.shape]="'line-chart'" clrVerticalNavIcon></clr-icon>
                    {{'Analytics'|translate}}
                </a>

            </clr-vertical-nav-group>

            <clr-vertical-nav-group routerLinkActive="active" routerLinkActive="active">
                <a [routerLink]="['./killers']" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}"
                    clrVerticalNavLink>
                    <clr-icon [attr.shape]="'slider'" clrVerticalNavIcon></clr-icon>
                    {{'Filters'|translate}}
                </a>

            </clr-vertical-nav-group>

            <a routerLinkActive="active" clrVerticalNavLink [routerLink]="['./wikipedia']">
                <clr-icon shape="phone-handset" clrVerticalNavIcon></clr-icon>
                {{'Contact Us'|translate}}
            </a>
            <div style="position: fixed; bottom: 4px;">
                <span style="padding: 8px;">
                    <a (click)="changeLanguage('en')" [routerLink]="['./wikipedia']"
                        routerLinkActive="active">English</a>
                </span>
                <span style="padding: 8px;">
                    <a (click)="changeLanguage('hn')" [routerLink]="['./wikipedia']" routerLinkActive="active">हिंदी</a>
                </span>
                <!-- <span style="padding: 8px;"><a [routerLink]="['./wikipedia']" routerLinkActive="active">मराठी</a></span>
    <span style="padding: 8px;"><a [routerLink]="['./wikipedia']" routerLinkActive="active">ગુજ્રતિ</a></span> -->
            </div>


        </clr-vertical-nav>
        <div class="content-area" *ngIf="showManageInsurance">

            <br>
            <div>
                <h3 style="display:inline;">{{'Manage Insurances'|translate}}</h3>
                <div class="search" style="display:inline; padding-left: 20%">
                    <input placeholder="Search insurance" style="width:50%">
                    <button class="btn btn-link">
                        <clr-icon shape="search"></clr-icon>
                    </button>
                </div>
            </div>

            <div class="clr-row">
                <div class="clr-col-lg-3 clr-col-12">
                    <a class="card clickable" (click)='next_page()'>

                        <div class="card-block" style="padding-left: 75px;">
                            <div>
                                <clr-icon shape="plus-circle" class="is-solid is-info" size="140"></clr-icon>
                            </div>
                            <h4 class="is-info">
                                {{'Create Insurance'|translate}}
                            </h4>
                        </div>
                    </a>
                </div>
                <div class="clr-col-lg-3 clr-col-12" *ngFor="let item of contracts">
                    <div class="card clickable" (click)="modal()">
                        <div class="card-header">
                            {{item.type|translate}}
                            <div *ngIf=" item.damage > 20" class="alert alert-info alert-sm">
                                <div class="alert-items">
                                    <div class="alert-item static" role="alert">
                                        <div class="alert-icon-wrapper">
                                            <clr-icon class="alert-icon" shape="info-circle"></clr-icon>
                                        </div>
                                        <span class="alert-text">
                                            Damage % = {{item.damage}}
                                        </span>
                                    </div>
                                </div>
                                <button type="button" class="close" aria-label="Close">
                                    <clr-icon aria-hidden="true" shape="close"></clr-icon>
                                </button>
                            </div>

                        </div>

                        <div class="card-block">

                            <div class="card-media-block wrap">
                                <div class="card-media-description">
                                    <span>{{'Issue Date'|translate}}: {{item.issue}}</span>
                                    <span>{{'Maturity'|translate}}: {{item.maturity}}</span>
                                    <span>{{'Premium amount'|translate}}: {{item.premium}}</span>
                                    <span>{{'Recurrence'|translate}}: {{item.recurrence}}</span>
                                </div>
                            </div>
                            <span *ngIf="item.due" class="label label-info"
                                (click)="payPremium(item.index)">{{'Premium Due'|translate}}</span>
                            <span *ngIf="!item.due" class="label label-success">{{'Premium Paid'|translate}}</span>
                            <a href="#" *ngIf="item.claim"
                                class="label label-purple clickable">{{'Claimed'|translate}}</a>
                            <a href="#" *ngIf="!item.claim"
                                class="label label-purple clickable">{{'Claim Now'|translate}}</a>
                        </div>


                    </div>
                </div>

                <clr-modal [(clrModalOpen)]="basic">
                    <h3 class="modal-title">{{'Insurance Form'|translate}}</h3>
                    <div class="modal-body">
                        <img src='../../assets/InsuranceForm.png' style="width:100%; height: 75%;"
                            class='card-media-image'>
                    </div>
                    <div class="modal-footer">
                        <!-- <button type="button" class="btn btn-outline" (click)="basic = false">Cancel</button> -->
                        <button type="button" class="btn btn-primary"
                            (click)="basic = false">{{'Ok'|translate}}</button>
                    </div>
                </clr-modal>
            </div>
        </div>
        <div class="content-area" *ngIf="showWalletBalance">
            <h3 style="display:inline;"> Wallet Balance</h3>
            <div class="clr-row">
                    <div class="clr-col-lg-8 clr-col-12">
                        <a class="card clickable">
                            <div class="card-block" >
                                    <div class="clr-row">
                                    <img  src='../../assets/wallet.png' style="width:20%; height: 20%; padding-left: 30px; padding-right: 30px;"
                                    class='card-media-image'>
                                    <h3 style="padding: 30px">{{walletBalance}} crop coins</h3>
                                    <!-- <h4 style="padding: 30px">{{walletBalance}} crop coins</h4> -->
                                    </div>
                                <!-- <div>
                                    <clr-icon shape="plus-circle" class="is-solid is-info" size="140"></clr-icon>
                                </div> -->
                                
                            </div>
                        </a>
                    </div>
            </div>
            
        </div>
    <div class="content-area" *ngIf="showWalletTransaction">
            <h3 style="display:inline;"> Wallet Transactions</h3>
            <div class="clr-row">
                <div class="clr-col-lg-8 clr-col-12">
                        <table class="table">
                                <thead>
                                    <tr>
                                        <th class="left">Date</th>
                                        <th>Debit</th>
                                        <th>Credit</th>
                                        <th>Type</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of transactions">
                                        <td class="left">{{item.date}}</td>
                                        <td>{{item.debit}}</td>
                                        <td>{{item.credit}}</td>
                                        <td style=" padding: 0%;" *ngIf="item.type === 'Rupees'"><img src='../../assets/rupee.jpg' style="width:10%; height: 20%;"> </td>
                                        <td style=" padding: 0%;" *ngIf="item.type === 'CropCoin'"><img src='../../assets/cropcoin.png' style="width:6%; height: 20%; padding: 0%;"> </td>
                                    </tr>
                                </tbody>
                            </table>
                </div>
            </div>
            
        </div>

    </div>

</div>
